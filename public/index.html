<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Git Analyzer - Analyze commits from Azure DevOps">
    <title>Azure Git Analyzer By Dom Pantaleon</title>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Diff2Html for diff rendering -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/diff2html/3.4.43/bundles/css/diff2html.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/diff2html/3.4.43/bundles/js/diff2html-ui.min.js"></script>

    <!-- App styles -->
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <svg viewBox="0 0 24 24" width="32" height="32" fill="currentColor">
                        <path
                            d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z" />
                    </svg>
                    <span>Azure Git Analyzer</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <a href="/" class="nav-item" data-page="dashboard">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="9"></rect>
                        <rect x="14" y="3" width="7" height="5"></rect>
                        <rect x="14" y="12" width="7" height="9"></rect>
                        <rect x="3" y="16" width="7" height="5"></rect>
                    </svg>
                    <span>Dashboard</span>
                </a>
                <a href="/repositories" class="nav-item" data-page="repositories">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                    </svg>
                    <span>Repositories</span>
                </a>
                <a href="/developers" class="nav-item" data-page="developers">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    <span>Developers</span>
                </a>
                <a href="/commits" class="nav-item" data-page="commits">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="4"></circle>
                        <line x1="1.05" y1="12" x2="7" y2="12"></line>
                        <line x1="17.01" y1="12" x2="22.96" y2="12"></line>
                    </svg>
                    <span>Commits</span>
                </a>
                <a href="/analytics" class="nav-item" data-page="analytics">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10"></line>
                        <line x1="12" y1="20" x2="12" y2="4"></line>
                        <line x1="6" y1="20" x2="6" y2="14"></line>
                    </svg>
                    <span>Analytics</span>
                </a>
                <a href="/export" class="nav-item" data-page="export">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    <span>Export</span>
                </a>

                <div class="nav-divider"></div>

                <a href="/settings" class="nav-item" data-page="settings">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path
                            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                        </path>
                    </svg>
                    <span>Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main content area -->
        <main class="main-content">
            <!-- Top bar -->
            <header class="top-bar">
                <div class="page-title">
                    <h1 id="page-title">Dashboard</h1>
                </div>

                <div class="top-bar-actions">
                    <!-- Date range picker -->
                    <div class="date-range-picker" id="date-range-picker">
                        <button class="date-range-btn" id="date-range-btn">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <span id="date-range-text">Last 7 days</span>
                        </button>

                        <div class="date-range-dropdown" id="date-range-dropdown">
                            <div class="date-presets">
                                <button data-preset="today">Today</button>
                                <button data-preset="7days" class="active">Last 7 days</button>
                                <button data-preset="14days">Last 14 days</button>
                                <button data-preset="30days">Last 30 days</button>
                                <button data-preset="thisMonth">This month</button>
                                <button data-preset="lastMonth">Last month</button>
                            </div>
                            <div class="date-custom">
                                <div class="date-input-group">
                                    <label>From</label>
                                    <input type="date" id="date-from">
                                </div>
                                <div class="date-input-group">
                                    <label>To</label>
                                    <input type="date" id="date-to">
                                </div>
                                <button class="btn btn-primary" id="apply-date-range">Apply</button>
                            </div>
                        </div>
                    </div>

                    <!-- Sync button -->
                    <button class="btn btn-secondary" id="sync-btn">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <polyline points="1 20 1 14 7 14"></polyline>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                        </svg>
                        <span>Sync</span>
                    </button>
                </div>
            </header>

            <!-- Page content -->
            <div class="page-content" id="page-content">
                <!-- Dynamic content loaded here -->
                <div class="loading-spinner">
                    <div class="spinner"></div>
                    <p>Loading...</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal container -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal" id="modal">
            <div class="modal-header">
                <button class="modal-expand hidden" id="modal-expand" title="Toggle Fullscreen">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path>
                    </svg>
                </button>
                <h2 id="modal-title">Modal</h2>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-content" id="modal-content">
                <!-- Modal content loaded here -->
            </div>
        </div>
    </div>

    <!-- Toast container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Console Log Panel -->
    <div class="console-panel" id="console-panel">
        <div class="console-header" id="console-header">
            <div class="console-title">
                <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="4 17 10 11 4 5"></polyline>
                    <line x1="12" y1="19" x2="20" y2="19"></line>
                </svg>
                <span>Console</span>
                <span class="console-badge" id="console-badge">0</span>
            </div>
            <div class="console-actions">
                <button class="console-btn" id="console-clear" title="Clear">
                    <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 6h18"></path>
                        <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                </button>
                <button class="console-btn" id="console-toggle" title="Toggle">
                    <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"
                        id="console-chevron">
                        <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                </button>
            </div>
        </div>
        <div class="console-body" id="console-body">
            <div class="console-content" id="console-content">
                <div class="console-entry info">
                    <span class="console-time">[--:--:--]</span>
                    <span class="console-msg">Console ready. Connection logs will appear here.</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/components/console-panel.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/components/modal.js"></script>
    <script src="/js/components/table.js"></script>
    <script src="/js/components/date-picker.js"></script>
    <script src="/js/components/charts.js"></script>
    <script src="/js/components/diff-viewer.js"></script>
    <script src="/js/pages/dashboard.js"></script>
    <script src="/js/pages/repositories.js"></script>
    <script src="/js/pages/developers.js"></script>
    <script src="/js/pages/commits.js"></script>
    <script src="/js/pages/analytics.js"></script>
    <script src="/js/pages/settings.js"></script>
    <script src="/js/pages/export.js"></script>
    <script src="/js/app.js"></script>
</body>

</html>